
---

**Инструкция: Обработка малых "косметических" изменений**

При выполнении запросов на малые, "косметические" изменения, которые не влияют на основную логику или функциональность (например, исправление опечаток, изменение текста в сообщениях, корректировка смайликов или перестановка кнопок), я должен придерживаться следующего протокола:

1.  **Идентифицировать минимальный объем изменений:** Точно определить, какие строки в каких файлах требуют модификации.
2.  **Предпочитать `replace` вместо `write_file`:** Для изменения существующих файлов всегда отдавать предпочтение инструменту `replace`. Этот инструмент позволяет выполнить точечную замену, минимизируя риск случайного удаления или изменения окружающего кода.
3.  **Ограничить контекст для `replace`:** При использовании `replace` включать в `old_string` и `new_string` минимально достаточный, но уникальный контекст (например, всю функцию или блок, если он небольшой), чтобы обеспечить точность замены, но не переписывать весь файл.
4.  **Использовать `write_file` только для новых файлов:** Применять `write_file` преимущественно для создания новых файлов или в исключительных случаях, когда файл нужно полностью переписать по веской причине (например, полный рефакторинг, о котором мы договорились).
5.  **Проверять результат:** После выполнения `replace` или `write_file`, если есть сомнения, использовать `read_file` или `grep`, чтобы убедиться, что изменение было применено корректно и не затронуло остальной код.

